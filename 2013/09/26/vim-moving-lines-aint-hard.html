<!DOCTYPE html><html><head><title>Vim: Moving Lines Ain't Hard</title><link href="/stylesheets/all-b60edc08.css" media="screen" rel="stylesheet" type="text/css" /><script src="/javascripts/all-ce68a29a.js" type="text/javascript"></script><meta content='NO-CACHE' http-equiv='CACHE-CONTROL'><meta content='DockYard is a Ruby on Rails, PostgreSQL, and, Ember.js, web / mobile application development software consultancy based in Boston, MA.' namer='description'><meta content='ruby on rails, rails, ruby, ruby on rails training, ruby application development, ruby on rails application development, ember application development, ember.js application development, software application development, web, web application development, mobile, mobile application development, ios, ios application development, iphone, iphone application development, android, android application development, postgres, startups, enterprise, Boston, MA, Massachusetts, for hire' name='keywords'><meta content='web development, mobile development, startups, enterprise, ruby on rails, rails, ruby, ruby on rails training, Boston, for hire' name='keywords'><meta content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0' name='viewport'><meta charset='utf-8'><meta content='DockYard.com - Quick ways to move lines' name='description'><meta content='DougYun' name='twitter:creator'><meta content='summary' name='twitter:card'><meta content='@DockYard' name='twitter:site'><meta content='http://reefpoints.dockyard.com/2013/09/26/vim-moving-lines-aint-hard.html' name='twitter:url'><meta content="Vim: Moving Lines Ain't Hard" name='twitter:title'><meta content='Quick ways to move lines' name='twitter:description'><link href='//cloud.typography.com/6496052/702882/css/fonts.css' rel='stylesheet' type='text/css'><link href='http://dockyard.com/humans.txt' rel='author'><link href='/favicon-573a5e34.png' rel='shortcut icon' type='image/x-icon'><link href='/favicon-573a5e34.png' rel='icon' type='image/x-icon'><link href='/apple-touch-icon.png' rel='apple-touch-icon'><link href='/apple-touch-icon-precomposed.png' rel='apple-touch-icon-precomposed'><script>
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-24185112-2']);
    _gaq.push(['_trackPageview']);
  
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>
<!--
                                             ..
                                           .O.
                                       .:OO.
                                      :OOO.
                                    :OOO:.
                         ...      :OOOO:
                   ..ZOOOOOOOOO..OZ.O.
                   OOOOOOOOOOOOOOOOI
                  OOOOOOOOOOOOOOOOI,
                 OOOOOOOO. .OOOOOOOO:
                 OOOOOOOO   OOOOOOOOO:
                OOOOOOOOOOOOOOOOOOOOO.
                OOOOOOOOOOOOOOOOOOOOO:
               .OOOOOOOOOOOOOOOOOOOOO:
               .OOOOOOOOOOOOOOOOOOOOO.
                OOOOOOOOOOOOOOOOOOOOO
                OOOOOO?:   .OOOOOOOOO
               .OOOOO      OOOOOOOOOO
,OO ZO,        OOOOO,     OOOOOOOOOO+
 OOOOO.        OOOOO     OOOOOOOOOOO+
  OOO?        OOOOO     .OOOOOOOOOOO:
   OOO,      OOOOO.    .OOOOOOOOOOOO
    OOOOOOOOOOOOO.    .OOOOOOOOOOOO.
     OOOOOOOOOOOO.  .OOOOOOOOOOOOO.
      8OOOOOOOOOOOOOOOOOOOOOOOODO:
         :OOOOOOOOOOOOOOOOOOOO::

--></head><body class='x2013 x2013_09 x2013_09_26 x2013_09_26_vim-moving-lines-aint-hard'><header><div class='extended-nav-wrap'><div class='l-wrap--wide'><nav class='extended-nav'><a class="extended-nav--logo" data-icon="⌂" href="http://dockyard.com/"><span class='is-hidden'>Home</span></a>
<a class="extended-nav--close" data-icon="X" href="#"><span class='is-hidden'>Close</span></a><div class='extended-nav__items'><div class='extended-nav__items--mobile'><a class="extended-nav__item--work extended-nav__item" href="#">Work</a><nav class='work-nav--mobile'><a href="http://dockyard.com/work/credit-card-reviews" class="work-nav-item"><strong class='work-nav-item__title'>Credit Card Reviews</strong></a>
<a href="http://dockyard.com/work/coachup" class="work-nav-item"><strong class='work-nav-item__title'>CoachUp</strong></a>
<a href="http://dockyard.com/work/askthem" class="work-nav-item"><strong class='work-nav-item__title'>AskThem</strong></a>
<a href="http://dockyard.com/work/beacon-hill-blitz" class="work-nav-item"><strong class='work-nav-item__title'>Beacon Hill Blitz</strong></a></nav></div><a class="extended-nav__item" href="http://dockyard.com/team">Our Team</a><a class="extended-nav__item" href="http://dockyard.com/process">Process</a><a class="extended-nav__item" href="http://dockyard.com/community">Community</a><a class="extended-nav__item active" href="/">Blog</a><a class="extended-nav__item" href="http://dockyard.com/hire-us">Hire Us</a></div></nav><nav class='work-nav'><h6>Selected Work</h6><a href="http://dockyard.com/work/credit-card-reviews" class="work-nav-item"><strong class='work-nav-item__title'>Credit Card Reviews</strong><p>Credit card advice from real people.</p></a>
<a href="http://dockyard.com/work/coachup" class="work-nav-item"><strong class='work-nav-item__title'>CoachUp</strong><p>You should be training. Right now.</p></a>
<a href="http://dockyard.com/work/askthem" class="work-nav-item"><strong class='work-nav-item__title'>AskThem</strong><p>Ask officials questions on city, state, and federal levels.</p></a>
<a href="http://dockyard.com/work/beacon-hill-blitz" class="work-nav-item"><strong class='work-nav-item__title'>Beacon Hill Blitz</strong><p>How technology helped repeal the #TechTax.</p></a></nav></div></div><nav class='main-nav-wrap'><div class='main-nav l-wrap--wide'><a class="logo" href="http://dockyard.com">DockYard</a><a class="club-sandwich" data-icon="☰" href="#"><span class='is-hidden'>Navigation</span></a></div></nav></header><div class='push--header'></div><div class='l-wrap--blog'><a href="/"><strong class='logo--blog'>ReefPoints</strong><strong class='logo--blog__tagline'>Blog</strong></a><nav class='blog-nav'><a class="blog-nav__item " href="/">Posts</a><a class="blog-nav__item " href="/categories.html">Categories</a><a class="blog-nav__item " href="/authors.html">Authors</a></nav></div><div class='l-wrap--blog__post'><h1 class='post__title'>Vim: Moving Lines Ain't Hard</h1><a class="post__author" href="/authors/doug-yun.html">Doug Yun</a><time class='post__date'>September 26<sup>th</sup>, 2013</time><div class='post__content'><p>In the last post, we briefly discussed the power of the
<a href="http://reefpoints.dockyard.com/2013/09/11/vim-staying-on-home-row-via-map.html"><em>map</em> command</a>.
In today&#39;s post, we&#39;re going to use <em>map</em> again in order to move
lines and blocks around.</p>

<p>Let&#39;s use an example:
Our goal is to move the <em>first line</em> to its proper location. From this:</p>
<div class="highlight  "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
</pre></td>
  <td class="code"><pre>--- second line ---
--- third line ---
--- first line ---
</pre></td>
</tr></table>
</div></div>
<p>To this:</p>
<div class="highlight  "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
</pre></td>
  <td class="code"><pre>--- first line ---
--- second line ---
--- third line ---
</pre></td>
</tr></table>
</div></div>
<h2>Delete, Then Paste</h2>

<p>Here is one of the most common ways, it ain&#39;t pretty but it gets the job done.
We&#39;ll delete the desired line and paste it to the target location.</p>
<div class="highlight  "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
</pre></td>
  <td class="code"><pre>--- second line ---
--- third line ---
--- first line ---

# Delete the &quot;first line&quot;, move to the &quot;second line&quot;, and paste the registered
# &quot;first line&quot; above the &quot;second line&quot;.
#
# :3 --&gt; &lt;ENTER&gt; --&gt; dd --&gt; j --&gt; P
#
# or...
#
# :3d --&gt; &lt;ENTER&gt; --&gt; :2P --&gt; &lt;ENTER&gt;
</pre></td>
</tr></table>
</div></div>
<h2>I Like the Way You Move</h2>

<p>The second way, use the <em>move</em> command with <code>:m</code>. I like this method a lot, as it
requires fewer keystrokes. It does require line numbers though. When using
absolute line numbers, the destination will be below the line number you specify,
so use <code>:m0</code> to move to the top of the file.
Try using
<a href="http://jeffkreeftmeijer.com/2013/vims-new-hybrid-line-number-mode/">hybrid mode</a>.</p>
<div class="highlight  "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
</pre></td>
  <td class="code"><pre>--- second line ---
--- third line ---
--- first line ---

# Move your cursor on the &quot;first line&quot; (the third line), use the *move* command and
# pass your desired line number as an argument. Hit enter.
#
# :3 --&gt; &lt;ENTER&gt; --&gt; :m0 --&gt; &lt;ENTER&gt;
#
# or...
#
# :3m0 --&gt; &lt;ENTER&gt;
</pre></td>
</tr></table>
</div></div>
<h2>Lazy Moving</h2>

<p>Now getting to the <em>map</em> command, I&#39;ve found this pretty handy when
I need to move a line or block of lines a couple of lines upward or downward.</p>
<div class="highlight  "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
13
</pre></td>
  <td class="code"><pre>&quot; In your ~/.vimrc
&quot;
&quot; Normal mode
nnoremap &lt;C-j&gt; :m .+1&lt;CR&gt;==
nnoremap &lt;C-k&gt; :m .-2&lt;CR&gt;==

&quot; Insert mode
inoremap &lt;C-j&gt; &lt;ESC&gt;:m .+1&lt;CR&gt;==gi
inoremap &lt;C-k&gt; &lt;ESC&gt;:m .-2&lt;CR&gt;==gi

&quot; Visual mode
vnoremap &lt;C-j&gt; :m '&gt;+1&lt;CR&gt;gv=gv
vnoremap &lt;C-k&gt; :m '&lt;-2&lt;CR&gt;gv=gv
</pre></td>
</tr></table>
</div></div>
<p>Now you can move lines by holding <em>CTRL</em> and <em>j</em> (for up a line) or
<em>k</em> (for down a line).</p>
<div class="highlight  "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
</pre></td>
  <td class="code"><pre>--- second line ---
--- third line ---
--- first line ---

# Move to the &quot;first line&quot;, hold &lt;CTRL&gt; and move up twice.
#
# :3 --&gt; &lt;ENTER&gt; --&gt; &lt;CTRL&gt; + kk
</pre></td>
</tr></table>
</div></div>
<p>Now let&#39;s move a block of lines:</p>
<div class="highlight  "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
</pre></td>
  <td class="code"><pre>--- fourth line ---
--- fifth line ---
--- first line ---
--- second line ---
--- third line ---

# Move to the &quot;first line&quot;.
# Select the &quot;first line&quot;, &quot;second line&quot;, and the &quot;third line&quot; with Visual mode.
# Hit CTRL and move upwards twice.
#
# :3 -- &lt;ENTER&gt; --&gt; &lt;SHIFT&gt; + V --&gt; jj --&gt; &lt;CTRL&gt; + kk
</pre></td>
</tr></table>
</div></div>
<h2>Other Ways</h2>

<p>There are plenty of other tricks that move around lines in Vim. The preceding
examples were just a few that I employ everyday. If you&#39;ve got something cool to
share, please let me know!</p>
</div><div class='post__share'><a class='twitter-share-button' data-url='http://reefpoints.dockyard.com/2013/09/26/vim-moving-lines-aint-hard.html' data-via='DockYard' href='https://twitter.com/share'>Tweet</a><script>
  !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src='//platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document,'script','twitter-wjs');
</script><div class='g-plusone' data-href='#' data-size='medium' data-width='100'></div><script>
  (function() {var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;po.src = 'https://apis.google.com/js/plusone.js';var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);})();
</script><span class='post__share--github'>If you see an issue, please send a <a href='https://github.com/dockyard/reefpoints/blob/master/source/posts/', class='text-link post__issue', target: '_blank'>pull request</a> to contribute.</span></div><div class='related-posts-wrap'><div class='post__avatar-wrap'><img class='post__avatar' src='/images/team/doug-yun.jpg'><h5 class='post__avatar__name'>Doug Yun</h5><h5 class='post__avatar__position headline--sub'>Developer At DockYard
</h5><nav class='post__avatar__social-links'><a target="_blank" class="post__avatar__social-link--twitter" data-icon="#" href="http://twitter.com/DougYun">DougYun</a><a target="_blank" class="post__avatar__social-link--github" data-icon="★" href="https://github.com/duggiefresh">duggiefresh</a></nav></div><div class='related-posts'><h3 class='related-posts__header headline--sub'>Other posts by Doug</h3><a class="related-post" href="/2014/04/10/vim-on-your-mark.html"><h2 class='related-post__title'>Vim: On Your Mark...</h2><p>April 10<sup>th</sup>, 2014</p></a>
<a class="related-post" href="/2013/12/08/introducing-easydir-vim.html"><h2 class='related-post__title'>Introducing easydir.vim</h2><p>December 8<sup>th</sup>, 2013</p></a>
<a class="related-posts-link text-link" href="/authors/doug-yun.html">See all 11 posts by Doug</a></div></div><p class='post__tags'><a class="post__tag" href="/categories/vim.html">Vim&nbsp;<span class='post__tag__count'>(6)</span></a> <a class="post__tag" href="/categories/workflow.html">Workflow&nbsp;<span class='post__tag__count'>(7)</span></a></p><div id='disqus_thread'></div><script>
  var disqus_shortname = 'reefpoints';
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script><noscript>Please enable JavaScript to view the <a href='http://disqus.com/?ref_noscript'>comments powered by Disqus</a>.</noscript></noscript><script>
  var path = window.location.pathname.split('/').reverse();
  var postname = path[0].split('.');
  var change = postname[0] + '.md';
  var newpath = 'https://github.com/dockyard/reefpoints/blob/master/source/posts/' + path[3] + '-' + path[2] + '-' + path[1] + '-' + change
  $('.post__issue').attr('href', newpath);
</script></div><div class='push--footer'></div><footer><div class='l-wrap'><div class='l-footer-group'><h3 class='footer-group__title'>EVENTS</h3><a class="footer__event--wgc" target="_blank" href="http://wickedgoodember.com/">Wicked Good Ember Conf</a><a class="footer__event--ember" target="_blank" href="http://www.meetup.com/Boston-Ember-js/">Boston Ember.js Meetup</a><a class="footer__event--openhack" target="_blank" href="http://openhack.github.io/boston/">OpenHack Boston</a><a class="footer__event--ux" target="_blank" href="http://www.meetup.com/uxboston/">UX Boston Meetup</a><a class="footer__event--swift" target="_blank" href="http://www.meetup.com/Boston-Swift/">Boston Swift</a><a class="footer__event--uxhh" target="_blank" href="http://www.uxhappyhour.com/bos">UX Happy Hour</a></div><div class='l-footer-group'><a href="/"><h3 class='footer-group__title'>BLOG</h3></a>
<a class="footer__post" href="/2014/08/06/the-most-difficult-position-to-hire-for-in-tech-right-now.html"><strong>The most difficult position to hire for in tech right now</strong><h6 class='footer-desc'></h6></a>
<a class="footer__post" href="/2014/07/29/project-carpe-diem.html"><strong>Project Carpe Diem - "Game Plan"</strong><h6 class='footer-desc'></h6></a>
<a class="footer__post" href="/2014/07/25/on-selling-ux.html"><strong>On Selling UX</strong><h6 class='footer-desc'>Getting what you want out of your design process.</h6></a></div><div class='l-footer-group'><a href="http://dockyard.com/hire-us"><h3 class='footer-group__title'>CONTACT</h3></a><h6 class='footer-desc'>DockYard HQ is located in Boston. Stop in sometime and meet our team!</h6><a class="footer__address" target="_blank" href="http://goo.gl/maps/zBGfn"><h6>DockYard Inc.<br>101 Tremont Street<br>Suite 200<br>Boston, MA 02108</h6></a>
<a class="text-link" href="http://dockyard.com/hire-us">Get in touch.</a><div class='social-links--footer'><a target="_blank" data-icon="#" class="social-link" href="https://twitter.com/dockyard"><span class='is-hidden'>Twitter</span></a>
<a target="_blank" data-icon="★" class="social-link" href="https://github.com/dockyard"><span class='is-hidden'>GitHub</span></a>
<a target="_blank" data-icon="✒" class="social-link" href="http://reefpoints.dockyard.com/atom.xml"><span class='is-hidden'>RSS</span></a></div></div></div></footer><script>
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'reefpoints'; // required: replace example with your forum shortname
  
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function () {
      var s = document.createElement('script'); s.async = true;
      s.type = 'text/javascript';
      s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
      (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());
</script></body></html>
